import{L as p,G as y,_ as w,p as g,k as f,b}from "./q-f0969768.js";const h=()=>(p(y(()=>w(()=>Promise.resolve().then(()=>W),void 0),"s_LDwMkWXtpMk"),{strategy:"document-ready"}),g(f,null,3,"nC_0")),_=typeof Blob<"u"&&typeof navigator<"u"&&typeof navigator.sendBeacon=="function",k=(e, n)=>{if(!_)return!1;const t=new Blob([JSON.stringify({beacon:n})],{type:"application/json; charset=UTF-8"});try{return navigator.sendBeacon(e,t)}catch{return!1}};let s;const I=new Uint8Array(16);function U(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(I)}const c=[];for(let e=0; e<256; ++e)c.push((e+256).toString(16).slice(1));function v(e, n=0){return(c[e[n+0]]+c[e[n+1]]+c[e[n+2]]+c[e[n+3]]+"-"+c[e[n+4]]+c[e[n+5]]+"-"+c[e[n+6]]+c[e[n+7]]+"-"+c[e[n+8]]+c[e[n+9]]+"-"+c[e[n+10]]+c[e[n+11]]+c[e[n+12]]+c[e[n+13]]+c[e[n+14]]+c[e[n+15]]).toLowerCase()}const S=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),d={randomUUID:S};function D(e, n, t){if(d.randomUUID&&!n&&!e)return d.randomUUID();e=e||{};const o=e.random||(e.rng||U)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,n){t=t||0;for(let r=0; r<16; ++r)n[t+r]=o[r];return n}return v(o)}function L({name:e,value:n,domain:t,daysToLive:o}){let r=`${e}=${encodeURIComponent(n)}`;if(typeof o=="number"){const i=new Date;i.setTime(i.getTime()+o*864e5),r+=`; expires=${i.toUTCString()}`}typeof t=="string"&&(r+=`; domain=.${t}`),r+="; path=/",window.document.cookie=r}function C(e){const n=window.document.cookie.match(`(^|;)\\s*${e}\\s*=\\s*([^;]+)`);return n?n.pop()??null:null}const a="anonymous-id",l=typeof window<"u";function P(){return l?C(a)||window.localStorage.getItem(a):null}function R(){return l?window.location.hostname.replace(/^(?:[^.]+\.)*(\w+\.\w+)$/,"$1"):null}function T(e){const n=R()??void 0;L({name:a,value:e,domain:n,daysToLive:365}),window.localStorage.setItem(a,e)}function $(e){try{T(e)}catch(n){console.error("Error setting anonymous ID",n)}}function x(){let e=P();return e||(e=D()),$(e),e}const B=()=>{const e={};return typeof document>"u"||document.cookie.split(";").forEach(n=>{const[t,o]=n.split("=");e[t.trim()]=o}),e},E=()=>{const e=B(),{_fbc:n,_fbp:t}=e;let o,r;const u=new URL(window.location.href).searchParams.get("fbclid"),m=new Date().getTime();return u?o=`fb.1.${m}.${u}`:n&&(o=n),t&&(r=t),{fbp:r,fbc:o}},M=async(e={})=>{const t={event:"page",anonymousId:x(),properties:e};k("/api/beacon/page",t)},A=()=>{const e=window.location.href,n=window.location.pathname,{title:t}=window.document,{referrer:o}=window.document,r=E();M({url:e,path:n,title:t,referrer:o,...r})},O=()=>{const e=new URLSearchParams(window.location.search).get("utm_source"),n=document.referrer;(e||n)&&A()},V=O,W=Object.freeze(Object.defineProperty({__proto__:null,_hW:b,s_Fgy3CNy7aHM:h,s_LDwMkWXtpMk:V},Symbol.toStringTag,{value:"Module"}));export{b as _hW,h as s_Fgy3CNy7aHM,V as s_LDwMkWXtpMk};